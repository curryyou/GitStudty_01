Git Branch
===


## **브랜치**
### : 특정 시점의 커밋(Base)부터 분기하여 독립적으로 관리하는 버전들의 갈래
### : 공통적인 작업을 하다가, 새로운 시도를 해보거나, 다양한 버전을 만들어볼 필요가 있을 때, 여러 브랜치를 만들어서 관리한다.

<br><br>

## **브랜치 확인 : branch**
### : 현재 생성되어 있는 브랜치 목록 확인
> `git branch`

<br><br>

## **브랜치 생성 : branch**
### : 현재 커밋(버전)부터 브랜치 생성
> `git branch 브랜치명`
##### 브랜치를 생성하기만 한다(해당 브랜치로의 전환은 별도로 해주어야 한다.)
##### 분기의 시작점이 되는 버전을 Base라고 한다.

<br><br>

## **브랜치 전환 : checkout**
### : HEAD가 가르키고 있는 브랜치를 다른 브랜치로 변경한다.
### : 브랜치가 전환되면, Working Tree 도 해당 브랜치 환경으로 전환된다.
> `git checkout 브랜치명`

### : 브랜치 생성과 전환을 동시에 하려면 다음 명령어를 쓴다.
> `git checkout -b 브랜치명`

<br><br>

## **브랜치 병합 : merge**
### Git은 여러 브랜치들을 자동으로 병합해준다.
### HEAD는 병합 커밋(merge commit)ID를 가르키게 된다.

<br>

### **# 전환 순서**
### 1 step : 메인 브랜치로 전환
> `git checkout master`

### 2 step : 브랜치 병합 (메인 브랜치에 다른 브랜치를 병합)
> `git merge 병합할브랜치`

##### 병합도 커밋(merge commit)이므로 커밋 메시지 작성 필요.

<br>

### **# 병합 케이스**
### 1. 다른 파일 수정 후, 병합 : Git이 자동으로 병합해줌
### 2. 같은 파일의 다른 위치 수정 후, 병합 : Git이 자동으로 병합해줌
### 3. **같은 파일의 같은 위치 수정 후, 병합** : 충돌(CONFLICT) 발생
1. 충돌난 파일 열기: 충돌난 부분이 표시된다.
2. 직접 파일 수정: 충돌난 부분을 수정한다.
3. 스테이징 등록: `git add 파일명`
4. 커밋: `git commit`  

<br><br>

## **충돌과 3-way merge**
### : 특정 분기점에서 시작한 두개의 브랜치를 병합할 경우,
### 1. 분기점(base)에서의 상태
### 2. 첫번째 브랜치의 상태
### 3. 두번째 브랜치의 상태
### 를 비교하여, base 기준으로 수정된 내용을 우선으로 병합한다.
### 만약 서로 다른 브랜치가 같은 부분을 수정한 경우, Conflict 발생 => 수동 수정 필요


<br><br>

## **HEAD, Branch, commit, checkout, reset에 대하여**

> ## ***HEAD -> 브랜치 -> 최신커밋ID***


### **# HEAD**
1. 현재 작업 중인 브랜치를 가르킨다.
2. Respository 생성시 만들어지며, 최초에는 Master브랜치를 가르킨다.
3. checkout 명령어로 HEAD가 가르키는 브랜치를 변경할 수 있다.


### **# Branch**
1. 각 브랜치의 마지막 커밋을 가르킨다.
2. Repository 생성시 Master브랜치가 만들어진다.
3. 새로운 commit을 하면, 브랜치가 가르키고 있던 마지막 커밋 다음에 버전(커밋)이 생성된다.
4. checkout명령어로 HEAD가 가르키는 브랜치를 변경할 수 있다.=>작업중인 브랜치가 전환된다.


### **# checkout**
1. HEAD가 가르키는 브랜치를 전환하는 명령어이다.(커밋ID값을 설정할 수도 있다)
2. 주로 브랜치 전환을 위해 `git checkout 브랜치명` 으로 사용한다.


### **# reset**
1. 특정 커밋ID 이후의 커밋들을 삭제하는 명령어이다.
2. HEAD는 삭제되고 남은 마지막 커밋을 가르킨다.
2. 주로 과거 특정 커밋ID의 버전으로 돌아가기 위해 `git reset 커밋ID` 로 사용한다.
